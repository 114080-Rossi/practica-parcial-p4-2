-- ===================================
-- Grupo G05
-- ===================================

INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'GET', 'bioquimico,responsable_secretaria,administrador', 'Get result detail', '/api/v1/studies/{id}/results/{id}');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'PUT', 'bioquimico,responsable_secretaria,administrador', 'Manage determinations', '/api/v1/studies/{id}/results/{id}');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'POST', 'bioquimico,responsable_secretaria,administrador', 'Recalculate study progress', '/api/v2/studies/{id}/recalculate-progress');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'POST', 'bioquimico,responsable_secretaria,administrador', 'Validate all determinations', '/api/v1/validations/{id}/validate-all');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'GET', 'bioquimico,responsable_secretaria,administrador', 'List traceability events', '/api/v1/studies/{id}/traceability');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'POST', 'bioquimico,responsable_secretaria,administrador', 'Register traceability event', '/api/v1/studies/{id}/traceability');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'POST', 'bioquimico,responsable_secretaria,administrador', 'Sign study intelligently (auto total or partial)', '/api/v1/signatures/studies/{id}');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'POST', 'bioquimico,responsable_secretaria,administrador', 'Sign study (final signature)', '/api/v1/signatures/studies/protocol/{id}');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'POST', 'bioquimico,responsable_secretaria,administrador', 'Sign result', '/api/v1/signatures/results/{id}/{id}');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'GET', 'bioquimico,responsable_secretaria,administrador', 'List studies', '/api/v2/studies');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'GET', 'bioquimico,responsable_secretaria,administrador', 'Get study detail', '/api/v2/studies/{id}');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'GET', 'bioquimico,responsable_secretaria,administrador', 'Get paginated list of studies', '/api/v1/studies');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'GET', 'bioquimico,responsable_secretaria,administrador', 'Get study details by ID', '/api/v1/studies/{id}');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'GET', 'bioquimico,responsable_secretaria,administrador', 'List results by protocol', '/api/v1/studies/{id}/results');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'GET', 'bioquimico,responsable_secretaria,administrador', 'List study reports', '/api/v1/studies/{id}/reports');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'GET', 'bioquimico,responsable_secretaria,administrador', 'List analyses with validations', '/api/v1/studies/{id}/analyses');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'GET', 'bioquimico,responsable_secretaria,administrador', 'Restricted endpoint (BIOCHEMIST, SUPERVISOR, ADMIN)', '/api/v1/security/restricted');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (true, NOW(), 'GET', '', 'Public endpoint (no role required)', '/api/v1/security/public');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'GET', 'bioquimico,responsable_secretaria,administrador', 'Get current security context', '/api/v1/security/context');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'GET', 'bioquimico', 'Biochemist-only endpoint', '/api/v1/security/biochemist-only');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'GET', 'administrador', 'Admin-only endpoint', '/api/v1/security/admin-only');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'GET', 'bioquimico,responsable_secretaria,administrador,externo', 'View report PDF', '/api/v1/reports/{id}/download');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'GET', 'bioquimico,responsable_secretaria,administrador,externo', 'Download report PDF', '/api/v1/reports/{id}/download/attachment');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'GET', 'bioquimico,responsable_secretaria,administrador,externo', 'Download latest report by study', '/api/v1/reports/study/{id}/download');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'GET', 'externo', 'Get studies for specific patient', '/api/v1/patients/{id}/studies');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'GET', 'bioquimico,responsable_secretaria,administrador', 'List all analyses (global)', '/api/v1/analyses');

-- Appointment Configurations
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'GET', 'administrador,secretaria,responsable_secretaria', 'Get appointment configuration by ID', '/api/v1/appointment-configurations/{id}');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'PUT', 'administrador,secretaria,responsable_secretaria', 'Update appointment configuration', '/api/v1/appointment-configurations/{id}');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'DELETE', 'administrador,secretaria,responsable_secretaria', 'Deactivate appointment configuration', '/api/v1/appointment-configurations/{id}');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'PATCH', 'administrador,secretaria,responsable_secretaria', 'Reactivate appointment configuration', '/api/v1/appointment-configurations/{id}/reactivate');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'POST', 'administrador,secretaria,responsable_secretaria', 'Create appointment configuration', '/api/v1/appointment-configurations');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'GET', 'administrador,secretaria,responsable_secretaria', 'Get configurations by branch', '/api/v1/appointment-configurations/branch/{id}');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'GET', 'externo,administrador,secretaria,responsable_secretaria', 'Get available appointment slots', '/api/v1/appointment-configurations/availability');

-- Appointment Management
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'POST', 'externo,secretaria,responsable_secretaria,administrador', 'Create appointment (with optional prescription upload)', '/api/v1/appointments');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'DELETE', 'externo,secretaria,responsable_secretaria,administrador', 'Cancel appointment', '/api/v1/appointments/{id}');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'POST', 'externo,secretaria,responsable_secretaria,administrador', 'Upload a prescription file for an appointment', '/api/v1/appointments/{id}/prescription');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'PUT', 'externo,secretaria,responsable_secretaria,administrador', 'Reschedule an appointment', '/api/v1/appointments/reschedule');

-- Appointment Visualization (public-facing)
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (true, NOW(), 'GET', 'externo,secretaria,responsable_secretaria', 'Find appointments with dynamic filters', '/api/v1/public-appointments');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (true, NOW(), 'GET', 'externo,secretaria,administrador,responsable_secretaria', 'Get appointment by ID', '/api/v1/public-appointments/{id}');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (true, NOW(), 'GET', 'externo,secretaria,administrador,responsable_secretaria', 'Find all appointments for a patient', '/api/v1/public-appointments/patient/{id}');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (true, NOW(), 'GET', 'externo,secretaria,administrador,responsable_secretaria', 'Find future appointments for a patient', '/api/v1/public-appointments/future');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (true, NOW(), 'GET', 'externo,secretaria,administrador,responsable_secretaria', 'Retrieve daily appointments', '/api/v1/public-appointments/day');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (true, NOW(), 'GET', 'externo,secretaria,administrador,responsable_secretaria', 'Retrieve appointments for a specific date', '/api/v1/public-appointments/day/{id}');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (true, NOW(), 'GET', 'externo,secretaria,administrador,responsable_secretaria', 'Find all possible appointment states', '/api/v1/public-appointments/states');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (true, NOW(), 'PATCH', 'externo,secretaria,administrador,responsable_secretaria', 'Update appointment status', '/api/v1/public-appointments/{id}/status');

-- Queue Management
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'GET', 'secretaria,responsable_secretaria,administrador', 'Get branch queue', '/api/v1/queue');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'POST', 'secretaria,responsable_secretaria,administrador', 'Register patient in queue', '/api/v1/queue');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'PATCH', 'secretaria,responsable_secretaria,administrador', 'Update queue status', '/api/v1/queue/status');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'GET', 'secretaria,responsable_secretaria,administrador', 'Get available queue statuses', '/api/v1/queue/statuses');
INSERT INTO endpoint_permissions (is_public, created_at, http_method, allowed_roles, description, endpoint_path) VALUES (false, NOW(), 'GET', 'secretaria,responsable_secretaria,administrador', 'Get patient by public code', '/api/v1/queue/patient/{id}');
